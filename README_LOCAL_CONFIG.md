# Локальная конфигурация конфигуратора

## Обзор

Теперь конфигуратор загружает данные локально вместо обращения к внешним серверам. Это обеспечивает:

- **Быструю загрузку** - нет зависимости от сети
- **Полную русификацию** - все данные уже переведены
- **Стабильную работу** - нет риска недоступности внешних сервисов

## Файлы конфигурации

### Основные файлы:
- `configuration_1000001_ru_RU.json` (4.1 МБ) - полная конфигурация шкафа с переводами
- `api_configuration_1000001_ru_RU.json` (7.6 КБ) - упрощенная конфигурация для API
- `ru-RU-full.json` (220 КБ) - полный словарь переводов (2955 ключей)

### Дополнительные файлы:
- `ru-RU.json` - базовый словарь переводов
- `config_data_wardrobe_local.json` - локальные настройки шкафа
- `js/ru-bootstrap.js` - скрипт русификации с перехватом запросов

## Как это работает

1. **Перехват запросов**: `ru-bootstrap.js` перехватывает все запросы к:
   - `condor.pickawood.com/configuration/*/en/GB` → `configuration_1000001_ru_RU.json`
   - `/api/configuration/*/en` → `api_configuration_1000001_ru_RU.json`
   - `/api/*/configuration/*/en` → `api_configuration_1000001_ru_RU.json`

2. **Локальная загрузка**: Вместо сетевых запросов конфигуратор загружает данные из локальных файлов

3. **Русификация**: Все тексты уже переведены на русский язык

## Запуск

```bash
# Запуск локального сервера
python -m http.server 8080

# Открыть в браузере
http://localhost:8080/configurator_2508f3617e1046cba5b985f3a7ea393a_page.html
```

## Преимущества

- ✅ **Быстрая загрузка** - данные загружаются мгновенно
- ✅ **Полная русификация** - все материалы и цвета переведены
- ✅ **Независимость от сети** - работает без интернета
- ✅ **Стабильность** - нет риска недоступности внешних сервисов
- ✅ **Отладка** - легко модифицировать конфигурацию локально

## Структура конфигурации

### Материалы:
- Премиум декор (2 см)
- Лакированный МДФ
- Фанера
- Настоящий деревянный шпон

### Цвета:
- Белый
- Кремово-белый
- Альпийский белый
- Бело-серый
- Серый
- Орех
- Дуб
- И многие другие...

### Информационные блоки:
- Переведены все подсказки и инструкции
- Локальные ссылки на русскую версию сайта
- Переведены таймеры и уведомления

## Обновление конфигурации

Для обновления конфигурации запустите:

```bash
python create_local_config.py
```

Это загрузит свежие данные с сервера и переведет их на русский язык.

## Отладка

Проверьте консоль браузера на наличие сообщений `[RU-BOOTSTRAP]`:
- `redirecting configuration request to local` - успешный перехват
- `proxy translation` - применение переводов
- `DOM translation` - перевод элементов интерфейса
