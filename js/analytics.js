!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new t.Error).stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="b1f1d447-3bdb-4f06-97a6-2d4575266e3f",t._sentryDebugIdIdentifier="sentry-dbid-b1f1d447-3bdb-4f06-97a6-2d4575266e3f")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"a0a6cec8e08c0dc591112a9385abab63d59ca58b"},(()=>{"use strict";var t=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8760,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",i=new Date;i.setTime(i.getTime()+60*e*60*1e3);var r="; expires=".concat(i.toUTCString());document.cookie="".concat(t,"=").concat(n).concat(r,"; path=").concat(a)},n=function(t){for(var n=document.cookie.split(";"),e=0;e<n.length;e++){var a=n[e].trim();if(0===a.indexOf("".concat(t,"=")))return a.substring("".concat(t,"=").length,a.length)}return null};window.Cookies={set:t,get:n};const e=t,a=n;var i="tablet",r="smartphone",o="desktop";var d,s=function(t){return void 0===t&&(t=window),function(t){return void 0===t&&(t=window),t.innerWidth>1024&&null===a("touched")}(t)?o:t.innerWidth>t.innerHeight?t.innerWidth>=960?i:r:t.innerWidth>=768?i:r};!function(t){t.SHOP="shop",t.CP="cp"}(d||(d={}));const u={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let c;const l=new Uint8Array(16);const f=[];for(let t=0;t<256;++t)f.push((t+256).toString(16).slice(1));function p(t,n=0){return(f[t[n+0]]+f[t[n+1]]+f[t[n+2]]+f[t[n+3]]+"-"+f[t[n+4]]+f[t[n+5]]+"-"+f[t[n+6]]+f[t[n+7]]+"-"+f[t[n+8]]+f[t[n+9]]+"-"+f[t[n+10]]+f[t[n+11]]+f[t[n+12]]+f[t[n+13]]+f[t[n+14]]+f[t[n+15]]).toLowerCase()}const g=function(t,n,e){if(u.randomUUID&&!n&&!t)return u.randomUUID();const a=(t=t||{}).random??t.rng?.()??function(){if(!c){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");c=crypto.getRandomValues.bind(crypto)}return c(l)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){if((e=e||0)<0||e+16>n.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let t=0;t<16;++t)n[e+t]=a[t];return n}return p(a)};var v=function(){return v=Object.assign||function(t){for(var n,e=1,a=arguments.length;e<a;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},v.apply(this,arguments)},y=function(){function t(){this._analyticsData={};var t=this.getMarketingParams();Object.keys(t).length>0&&e("marketing_params",JSON.stringify(t),8760,"/"),this.registerEvent(),this.handleVisits()}return t.prototype.add=function(n,e){void 0!==t._data&&null!==t._data||(t._data=[]),t._data.push(v(v({aid:a("aid"),event:n,source:d.SHOP},e),{marketing:v({},this.getMarketingParams()),metadata:{url:window.location.href,agent:navigator.userAgent,language:window.navigator.userLanguage||window.navigator.language,device:s(),visits:this.visitedPages}}))},Object.defineProperty(t.prototype,"data",{get:function(){return t._data},enumerable:!1,configurable:!0}),t.prototype.hasEvent=function(n){return t._data.findIndex((function(t){return t.event===n}))>-1},t.prototype.getMarketingParams=function(){if(0===Object.keys(this._analyticsData).length){var n={},e=window.location.href;e.slice(e.indexOf("?")+1).split("&").map((function(t){var e=t.split("="),a=e[0],i=e[1];void 0!==i&&(n[a]=decodeURIComponent(i))}));for(var a=0,i=t.MARKETING_ALLOWED_PARAMS;a<i.length;a++){var r=i[a];n.hasOwnProperty(r)&&(this._analyticsData[r]=n[r])}}return this._analyticsData},t.prototype.registerEvent=function(){var t=this;window.addEventListener("pagehide",(function(n){"function"==typeof navigator.sendBeacon&&t.data.length>0&&t.send()}))},Object.defineProperty(t.prototype,"visitedPages",{get:function(){var t=a("all_visits");return null!==t?parseInt(t):0},enumerable:!1,configurable:!0}),t.prototype.handleVisits=function(){var t=(new Date).getTime(),n=a("all_visits"),i=a("all_visits_updated");null==n&&(n=0,e("all_visits",0),e("all_visits_updated",t)),n=parseInt(n),null==a("current_visit")?(e("current_visit",!0,1.5),n++,e("all_visits",n),e("all_visits_updated",t)):null!==i&&parseInt(i)<t-16&&(n++,e("all_visits",n),e("all_visits_updated",t)),null==a("aid")&&e("aid",g(),24)},t.prototype.clear=function(){t._data.splice(0)},t.prototype.send=function(){var t=new Blob([JSON.stringify(this.data)],{type:"application/json"});navigator.sendBeacon("/api/analytics",t),this.clear()},t._data=[],t.MARKETING_ALLOWED_PARAMS=["ad_source","ad_medium","ad_group","ad_campaign","utm_source","utm_medium","utm_group","utm_campaign"],t}();window.beacon=new y})();
//# sourceMappingURL=analytics.js.map